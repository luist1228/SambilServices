CREATE TABLE public.cliente
(
  id integer NOT NULL DEFAULT nextval('cliente_id_seq'::regclass),
  nombre character varying,
  apellido character varying,
  cedula integer NOT NULL,
  CONSTRAINT cliente_pkey PRIMARY KEY (cedula)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.cliente
  OWNER TO postgres;


CREATE TABLE public.tiempo
(
  id integer NOT NULL DEFAULT nextval('tiempo_id_seq'::regclass),
  dia integer,
  mes integer,
  ano integer,
  CONSTRAINT tiempo_pkey PRIMARY KEY (id)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.tiempo
  OWNER TO postgres;


CREATE TABLE public.tienda
(
  id integer NOT NULL DEFAULT nextval('tienda_id_seq'::regclass),
  nombre character varying,
  CONSTRAINT tienda_pkey PRIMARY KEY (id)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.tienda
  OWNER TO postgres;


CREATE TABLE public.ventas
(
  id integer NOT NULL DEFAULT nextval('ventas_id_seq'::regclass),
  fktienda integer,
  fktiempo integer,
  total integer,
  fkcliente integer,
  CONSTRAINT ventas_pkey PRIMARY KEY (id),
  CONSTRAINT ventas_fkcliente_fkey FOREIGN KEY (fkcliente)
      REFERENCES public.cliente (cedula) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT ventas_fktiempo_fkey FOREIGN KEY (fktiempo)
      REFERENCES public.tienda (id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT ventas_fktienda_fkey FOREIGN KEY (fktienda)
      REFERENCES public.tiempo (id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.ventas
  OWNER TO postgres;
